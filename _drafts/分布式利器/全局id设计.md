全局id设计
===

# **##相关背景**

		分布式架构下，唯一序列号生成是我们在设计一个系统，经常会碰到的问题。尤其是数据库使用分库分表的时候常常会遇见的问题。当分成若干个sharding表后，如何能够快速拿到一个唯一序列号，是经常遇到的问题。

		再比如在常见的业务系统中，分布式 ID 可用来标记客户号、订单号、文件号、优惠券号，商品货号，商家编号等，以保证这些数据的全局唯一性。正如前文所述，笔者团队所使用的分布式 ID 具有**单调递增、形成序列**的特性（既满足全局唯一，又满足排序的特性），被称为**序列号**，而生成序列号的系统被称为**序列号服务**。
分布式 ID 生成系统，顾名思义，是在**分布式的架构环境**中，生成**全局唯一标识**的系统
序列号服务业内有许多方案，比如基于 **UUID**，基于 **Redis 的 INCR 自增**，基于**数据库 ID 自增**，基于 **snowflake 的 bit 分段**等等，它们各有优缺点和适用性。基于团队当前的系统量级与业务适用性，笔者团队选择了基于 Redis 的方案。

# **##特性需求**
1.  全局唯一

2.  支持高并发

3.  能够体现一定属性

4.  高可靠，容错单点故障

5.  高性能

*   **永增序列**：永远按升序生成新序列号

*   **日切序列**：按日切换批次的序列，同一天按升序生成新序列号，换批次后序列号重置从 1 开始

# **##生成规则**
mac 地址


# **##可选择方案**
* uuid
* 基于数据库主键自增
* 基于redis 原子自增
* 基于ignite 自增
* 基于zookeeper 有序几点


# **##基于数据库实现方案**

# **##基于redis实现方案**

# **##基于ignite实现方案**

# **##基于zookeeper实现方案**

